# 🎉 מערכת ניהול דיירים עם אימות ותשלומים - ועד 2025

## 📊 **סטטוס פרויקט:**

### ✅ **הושלם (60%):**

#### **1. תשתית אימות מלאה:**
- ✅ `js/config.js` - הגדרות מערכת (Supabase, מחירים, הודעות)
- ✅ `js/supabase-client.js` - חיבור מסד נתונים עם Supabase
- ✅ `js/auth.js` - לוגיקת אימות שלמה:
  - רישום משתמשים
  - התחברות
  - בדיקת הרשאות
  - ניהול מנויים
  - בדיקת תוקף trial

#### **2. דפי משתמש:**
- ✅ `login.html` - דף התחברות מעוצב
- ✅ `signup.html` - דף רישום עם:
  - בדיקת חוזק סיסמה
  - ולידציה מלאה
  - הצגת תכונות
  - 14 ימי ניסיון חינם

#### **3. הגנת הגישה:**
- ✅ `index.html` עודכן עם:
  - בדיקת אימות אוטומטית
  - הפניה ל-login אם לא מחובר
  - הפניה ל-pricing אם פג המנוי
  - התראות על תום מנוי

#### **4. תיעוד:**
- ✅ `SETUP-GUIDE.md` - מדריך הגדרה מפורט
- ✅ `test-status.html` - דף בדיקת סטטוס
- ✅ `PROGRESS.md` - מסמך התקדמות

---

## ⏳ **נותר לבנות (40%):**

### **קריטי:**
1. ⏳ `admin.html` + `js/admin.js` - פאנל אדמין מלא
2. ⏳ עדכון `js/app.js` - שמירה ל-Supabase במקום LocalStorage
3. ⏳ `pricing.html` + `js/payment.js` - דף תשלומים

### **משני:**
4. ⏳ `profile.html` - דף פרופיל משתמש
5. ⏳ `blocked.html` - דף חסימה
6. ⏳ תפריט משתמש ב-sidebar (שם + התנתקות)

---

## 🔧 **איך להשלים את המערכת:**

### **שלב 1: הגדרת Supabase (10 דקות)**

#### **A. יצירת פרויקט:**
1. לך ל: https://supabase.com
2. התחבר / הירשם
3. "New Project" → מלא פרטים
4. חכה ~2 דקות

#### **B. הרצת SQL:**
לך ל: **SQL Editor** והרץ:

```sql
-- ראה את ה-SQL המלא ב-SETUP-GUIDE.md
-- כולל: user_profiles, payments, tenants, expenses, activity_log
-- + RLS policies
```

#### **C. העתקת Keys:**
1. **Project Settings** → **API**
2. העתק:
   - **Project URL**: `https://xxxxx.supabase.co`
   - **anon public key**: `eyJhbGc...`

#### **D. עדכון Config:**
פתח `js/config.js`:
```javascript
const SUPABASE_CONFIG = {
    url: 'YOUR_URL_HERE',        // 👈 הדבק כאן
    anonKey: 'YOUR_KEY_HERE'      // 👈 הדבק כאן
};
```

---

### **שלב 2: בדיקת המערכת הקיימת**

#### **מה עובד עכשיו:**
1. פתח `signup.html`
2. הירשם (יצור user ב-Supabase)
3. המערכת תיתן 14 ימי ניסיון
4. תועבר ל-`index.html`
5. המערכת תבדוק אימות אוטומטית

#### **אם Supabase לא מוגדר:**
- תראה התראה כתומה
- המערכת לא תעבוד
- צריך להגדיר קודם

---

### **שלב 3: השלמת הבנייה (אופציונלי)**

אם תרצה להשלים - תגיד "תמשיך לבנות" ואני אוסיף:

1. **פאנל אדמין** (`admin.html`):
   - רשימת משתמשים
   - נעילה/פתיחה
   - שינוי תפקידים
   - צפייה בתשלומים

2. **דף תשלומים** (`pricing.html`):
   - 3 אופציות מנוי
   - סימולציית תשלום
   - אינטגרציה עם Stripe (עתידי)

3. **אינטגרציה מלאה** (`js/app.js`):
   - שמירה ל-Supabase
   - Real-time sync
   - מחיקת LocalStorage

4. **דפים נוספים**:
   - `profile.html` - עריכת פרופיל
   - `blocked.html` - הודעת חסימה

---

## 📖 **מבנה הפרויקט:**

```
ועד-2025/
├── index.html ✅ (מוגן!)
├── login.html ✅
├── signup.html ✅
├── test-status.html ✅
├── admin.html ⏳
├── pricing.html ⏳
├── profile.html ⏳
├── blocked.html ⏳
│
├── js/
│   ├── config.js ✅
│   ├── supabase-client.js ✅
│   ├── auth.js ✅
│   ├── admin.js ⏳
│   ├── payment.js ⏳
│   ├── app.js ✅ (צריך עדכון)
│   └── payments-table.js ✅
│
├── css/
│   └── style.css ✅
│
├── SETUP-GUIDE.md ✅
├── PROGRESS.md ✅
├── README.md (זה!)
└── CHANGELOG.md ✅
```

---

## 🎯 **כיצד להשתמש:**

### **למשתמש רגיל:**
1. הירשם ב-`signup.html`
2. קבל 14 ימים חינם
3. השתמש במערכת
4. אחרי 14 ימים - שדרג ב-`pricing.html`

### **למפתח:**
1. הגדר Supabase
2. רשום משתמש ראשון
3. שנה אותו לאדמין ב-Supabase:
```sql
UPDATE user_profiles 
SET role = 'admin' 
WHERE email = 'your@email.com';
```
4. היכנס עם המשתמש
5. תיהנה מגישת אדמין

---

## 💰 **מודל המנויים:**

| סוג | מחיר | תקופה | תכונות |
|-----|------|-------|---------|
| 🎁 Trial | ₪0 | 14 ימים | גישה מלאה |
| 📅 Monthly | ₪49 | חודש | כל התכונות |
| 🎯 Yearly | ₪490 | שנה | חודש חינם! |
| 💎 Lifetime | ₪499 | לתמיד | תשלום אחד |

---

## 🔐 **אבטחה:**

✅ Row Level Security (RLS) ב-Supabase  
✅ אימות JWT  
✅ בדיקת הרשאות בכל דף  
✅ הצפנת סיסמאות  
✅ Session management  

---

## 🚀 **מה הלאה?**

### **אופציה 1: התחל להשתמש**
אם רק רוצה לבדוק:
1. הגדר Supabase
2. הירשם
3. התחל לנהל דיירים

### **אופציה 2: השלם בנייה**
אם רוצה את כל התכונות:
1. תגיד "תמשיך לבנות"
2. אמשיך עוד ~60 דקות
3. תקבל מערכת מלאה 100%

### **אופציה 3: פיתוח עצמאי**
המערכת פתוחה ומתועדת:
1. הקוד ברור ומסודר
2. יש הערות בעברית
3. אפשר להוסיף תכונות

---

## 📞 **תמיכה:**

נתקעת? יש שאלות?
- קרא את `SETUP-GUIDE.md`
- פתח את `test-status.html` לבדיקה
- שאל את הבוט שבנה את זה 😊

---

## 📄 **רישיון:**

**מפתח ובעלים:** בועז סעדה  
**© 2024-2026 בועז סעדה**  
**All Rights Reserved**

---

## 🎉 **גרסה:**
**v2.11.0** - מערכת אימות ותשלומים (בפיתוח)

---

**✅ המערכת מוכנה ב-60%!**  
**💪 תגיד "תמשיך לבנות" כדי להשלים את ה-40% הנותרים!**
